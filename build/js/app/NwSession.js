OJ.importJs("oj.events.OjActionable");OJ.importJs("oj.events.OjEvent");OJ.importJs("oj.timer.OjTimer");"use strict";OJ.extendClass(OjActionable,"NwSession",{_props_:{data:null,token:null,user:null},_class_path:"nw.app.NwSession",_constructor:function(){this._super("NwSession","_constructor",[]);this._data={};var a=arguments.length;if(a){this.setToken(arguments[0]);if(a>1){this.setData(arguments[1])}}},exportData:function(){var a=this._super("NwSession","exportData",arguments);a.data=this._data?OjObject.exportData(this._data):{};a.token=this._token;a.user=this._user?this._user.exportData():null;return a},importData:function(a){this._data=a&&a.data?OjObject.importData(a.data):{};this._token=a&&a.token?a.token:null;this._user=a&&a.user?OjObject.importData(a.user):null},save:function(){this.dispatchEvent(new OjEvent(OjEvent.CHANGE))},get:function(a){return this._data[a]},set:function(a,b){if(this._data[a]==b){return}this._data[a]=b;this.save()},unset:function(a){delete this._data[a];this.save()},setData:function(a){if(this._data==a){return}this._data=a?a:{};this.save()},setToken:function(a){if(this._token==a){return}this._token=a;this.save()},setUser:function(a){if(this._user==a){return}this._user=a;this.save()}});